<!DOCTYPE html>
<html lang="en">

<head>

  <title>CloudPCR | Emergency Reporting</title>

  <link href="../landingpages/css/bootstrap/bootstrap.css" rel="stylesheet">
  <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Muli" rel="stylesheet">
  <link href="../landingpages/css/style.css" rel="stylesheet">

  <style>
    body {
      font-family: 'Catamaran', 'Helvetica', 'Arial', 'sans-serif';
    }
    .card table td {
      padding: 0;
    }
    .card-deck .card table table tr td:first-child {
      padding-right: 5px !important;
    }
    .card-deck .card table table tr td {
      border: none !important;
    }
    .template {
      display: none;
    }
  </style>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-131481152-1"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-131481152-1');
</script>

</head>

<body id="page-top">

  <div class="container" style="padding-bottom: 100px;">
    <div class="row text-center">
      <div class="col">
        <span>
          <img src="../landingpages/img/LargeLogoTrans.png" alt="CloudPCR Logo" height="65" style="vertical-align: middle">
        </span>
      </div>
      <div class="col">
        <span style="line-height: 55px;"">
          <img src="../landingpages/img/emergency_reporting_logo.png" alt="Emergency Reporting Logo"
          height="45" style="vertical-align: middle">
        </span>
      </div>
      <span class="col">
        <div style="height: 100%">
          <span style="line-height: 55px; text-align: center; display: block;">
            <button class="btn btn-primary" data-toggle="modal" data-target="#salesModal"><i class="fa fa-fw fa-file"></i>
              Request Trial Account / Follow up</button>
          </span>
      </span>

    </div>
  </div>

  <div class="row justify-content-center" style="margin-bottom: 20px;">
    <div class="col col-10 col-md-8">
      <img id="map" src="../landingpages/img/Current N3.4 Certification.png" style="width: 100%;" />
      <button class="btn btn-primary" onclick="window.open(document.getElementById('map').getAttribute('src'),'Image')">
        <i class="fa fa-fw fa-search-plus"></i> View Large Map
      </button>
    </div>
  </div>

  <div class="card-deck" style="margin-bottom: 20px;" id="pricingOptions"></div>

  <div class="row justify-content-center" style="margin-bottom: 20px;">
    <div class="col-sm-10">
      <div class="card">
        <div class="card-header">
          Package Addons
        </div>
        <div class="card-body">
          <span class="card-text">
            <table class="table table-striped table-sm" id="addonsTable">
              <thead>
                <tr>
                  <th scope="col">Addon</th>
                  <th scope="col" class="text-center">One-Time Setup Fee</th>
                  <th scope="col" class="text-center">Annual Cost</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </span>
        </div>
      </div>
    </div>
  </div>

  <span>*All packages are priced per station per year</span>

  <script src="../landingpages/js/jquery/jquery.js"></script>
  <script src="../landingpages/js/bootstrap/js/bootstrap.bundle.js"></script>
  <script src="../landingpages/js/jquery-easing/jquery.easing.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

  <script type="text/javascript">
    var $zoho = $zoho || {};
    $zoho.salesiq = $zoho.salesiq || {
      widgetcode: "e7ea3f5dd3fb565f63197123e5f34e2ba68acc7fb3354469d97c21009195ee856b90d019bd4854fe957717da2cd3df72",
      values: {},
      ready: function () { }
    };
    var d = document;
    s = d.createElement("script");
    s.type = "text/javascript";
    s.id = "zsiqscript";
    s.defer = true;
    s.src = "https://salesiq.zoho.com/widget";
    t = d.getElementsByTagName("script")[0];
    t.parentNode.insertBefore(s, t);
    d.write("<div id='zsiqwidget'></div>");
  </script>

  <div class="modal fade" tabindex="-1" role="dialog" id="salesModal">
    <div class="modal-dialog modal-lg" role="document" style="max-width: 800px;">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title"></h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <script src='https://crm.zoho.com/crm/WebFormServeServlet?rid=dfab8654975fef98781cef9a37bc5e6a18000fd371c8ab256bdd9dda0f994234gide9b68bc7c73581bce9a085af745454873d59914cdd9920a0eb8fc9ebf573666e&script=$sYG'></script>
        </div>
        <div class="modal-footer">
          <!-- <span style="margin-right: auto;">
            <a class="btn btn-primary" href="../landingpages/index.html?ers=true" target="_blank">Request Account</a>
          </span> -->
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-warning" onclick="ClickFormReset()">Reset</button>
          <button type="button" class="btn btn-primary" onclick="ClickFormSubmit()">Submit</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    let $salesForm, $salesFormSubmitButton, $salesFormResetButton;
    let $salesModal;
    $(document).ready(() => {
      $salesModal = $("#salesModal");
      $salesForm = $("#crmWebToEntityForm");
      $salesFormSubmitButton = $("#crmWebToEntityForm input[value=Submit]").hide();
      $salesFormResetButton = $("#crmWebToEntityForm input[value=Reset]").hide();

      $salesForm.find("table tr:first-child").hide();
      $salesModal.find(".modal-title").empty().append($salesForm.find("table tr:first-child td > *"));

      $salesModal.on("show.bs.modal", () => HideSalesIq());
      $salesModal.on("hidden.bs.modal", () => ShowSalesIq());
    });

    function ClickFormSubmit() {
      $salesFormSubmitButton.click();
    }
    function ClickFormReset() {
      $salesFormResetButton.click();
    }

    function HideSalesIq() {
      $zoho.salesiq.floatbutton.visible("hide");
    }
    function ShowSalesIq() {
      $zoho.salesiq.floatbutton.visible("show");
    }

    let pricingDefinitions = {
      "Basic": {
        "Features": [
          "Mobile/Tablet PCR",
          "PCR Customizability",
          "Patient Lookup",
          "Signature Capture",
          "Google Address Lookup",
          "State Exports",
          "Basic Reporting",
          "Up to 700 calls per year"
        ],
        "Pricing": {
          "Annual Cost": (discount) => discount ? 599 : 899,
        }
      },
      "Pro": {
        "Features": [
          "Basic Package Features, <b>plus</b>",
          "Digitized Paper Forms",
          "Billing Module",
          "Faxing to Facility",
          "QA Workflow",
          "Up to 1500 calls per year"
        ],
        "Pricing": {
          "Annual Cost": (discount) => discount ? 1299 : 1899,
        }
      },
      "Elite": {
        "Features": [
          "Pro Package Features, <b>plus</b>",
          "Enterprise Reporting / Analytics",
          `CAD Link Integration <del>${getDollars(799)}</del>`,
          `Heart Monitor Integration <del>${getDollars(999)}</del>`,
          "Up to 2500 calls per year"
        ],
        "Pricing": {
          "Annual Cost": (discount) => discount ? 2499 : 3499,
        }
      }
    };
    let addonDefinitions = [
      { "setup": "", "annual": "", "name": "Initial Setup + Training (per station)" },
      { "setup": `${getDollars(900)}`, "annual": getDollars(NaN), "name": "<span style='padding-left: 10px;'>Single Station</span>" },
      { "setup": `<span>${getDollars(630)}`, "annual": getDollars(NaN), "name": "<span style='padding-left: 10px;'>2+ Stations</span>" },
      { "setup": `<del>${getDollars(1500)}</del> ${getDollars(500)}`,"annual": `${getDollars(250)}/${getDollars(499)}/${getDollars(799)}`, "name": "CAD Link (Relay, WSD, FFP)" },
      { "setup": `<del>${getDollars(1000)}</del> ${getDollars(500)}`, "annual": getDollars(999), "name": "Heart Monitor Integration" },
      { "setup": getDollars(NaN), "annual": getDollars(500), "name": "500 Additional PCRs" },
    ]

    $(document).ready(SetupPricings);
    function SetupPricings() {
      for (let title in pricingDefinitions) {
        let $card = $(".template.package-card").clone().removeClass("template");
        var annualFn = pricingDefinitions[title].Pricing["Annual Cost"];

        $card.find("#title").html(`<h3>${title}</h3><span><del>${getDollars(annualFn(false))}</del> ${getDollars(annualFn(true))}*</span>`);

        pricingDefinitions[title].Features.forEach((v, i, me) => {
          $card.find("#features").append(`<li>${v}</li>`);
        });

        $("#pricingOptions").append($card);
      }
    }

    $(document).ready(SetupAddons);
    function SetupAddons() {
      addonDefinitions.forEach((v, i, me) => {
        $("#addonsTable tbody").append(`<tr><td scope="row">${v.name}</td><td class="text-center">${v.setup}</td><td class="text-center">${v.annual}</td></tr>`);
      });
    }

    function getDollars(n) {
      return isNaN(n) ? "---" : `$${n.toFixed(0)}`
    }
  </script>

  <div class="card template package-card">
    <div class="card-header">
      <span id="title"></span>
    </div>
    <div class="card-body">
      <h5 class="card-title">Top Features</h5>
      <ul class="card-text" id="features"></ul>
    </div>
    </div>
  </div>

</body>

</html>